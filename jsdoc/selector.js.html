<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: selector.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: selector.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Dot-path based object property selector engine
 * @class selector
 */
var selector = {
  /**
   * @type {String}
   */
  divider: '.',
  /**
   * @param {String} selector
   * @returns {Array}
   */
  split: function(selector){
    return selector ? selector.split(this.divider) : [];
  },
  /**
   * @param {*} value
   * @returns {Boolean} TRUE if value can be accessed with array notation value[prop]
   */
  accessible: function(value){
    return !(value === null || typeof value === 'undefined');
  },
  /**
   * @param {String|Array} selector
   * @param {Function} fn iterator function for Array.each()
   * @returns {Boolean}
   */
  forProp: function(selector, fn){
    return ( Array.isArray(selector) ? selector : this.split(selector) ).every(fn, this);
  },
  /**
   * @param {Object|Array} obj
   * @param {String} prop
   * @param {String|Array} startSelector
   * @returns {*}
   */
  findInParents: function(obj, prop, startSelector){
    var
      curObj = obj,
      match = curObj[prop];

    this.forProp(startSelector, function(curProp){
      if (!this.accessible(curObj)) return false;

      curObj = curObj[curProp];
      if (curObj &amp;&amp; typeof curObj[prop] !== 'undefined') {
        match = curObj[prop];
      }

      return true;
    });

    return match;
  },
  /**
   * @param {Object|Array} obj
   * @param {String} selector
   * @param {String|Array} [startSelector]
   * @returns {*}
   */
  resolve: function(obj, selector, startSelector){
    if (startSelector) {
      if (selector) {
        selector = this.split(selector);
        obj = this.findInParents(obj, selector.shift(), startSelector);
      } else {
        selector = startSelector;
      }
    }

    this.forProp(selector, function(prop){
      obj = obj[prop];
      return this.accessible(obj);
    });

    return obj;
  }
};

module.exports = selector;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-dotpath-resolve.html">dotpath-resolve</a></li></ul><h3>Classes</h3><ul><li><a href="selector.html">selector</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Tue Sep 23 2014 11:48:38 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
